<!doctype html>
<html lang="fi" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-stake-pool-guides/pi-pool-tutorial/pi-node-full-guide/environment-setup">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<title data-rh="true">Environment Setup | Armada Alliance Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://rekuenkdr.github.io//armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-pool-tutorial/pi-node-full-guide/environment-setup"><meta data-rh="true" name="docusaurus_locale" content="fi"><meta data-rh="true" name="docsearch:language" content="fi"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Environment Setup | Armada Alliance Docs"><meta data-rh="true" name="description" content="Configure the environment for Cardano Node"><meta data-rh="true" property="og:description" content="Configure the environment for Cardano Node"><link data-rh="true" rel="icon" href="/armada-alliance-docusaurus/fi/img/armada-alliance-logo.png"><link data-rh="true" rel="canonical" href="https://rekuenkdr.github.io//armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-pool-tutorial/pi-node-full-guide/environment-setup"><link data-rh="true" rel="alternate" href="https://rekuenkdr.github.io//armada-alliance-docusaurus/docs/stake-pool-guides/pi-pool-tutorial/pi-node-full-guide/environment-setup" hreflang="en"><link data-rh="true" rel="alternate" href="https://rekuenkdr.github.io//armada-alliance-docusaurus/es/docs/stake-pool-guides/pi-pool-tutorial/pi-node-full-guide/environment-setup" hreflang="es"><link data-rh="true" rel="alternate" href="https://rekuenkdr.github.io//armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-pool-tutorial/pi-node-full-guide/environment-setup" hreflang="fi"><link data-rh="true" rel="alternate" href="https://rekuenkdr.github.io//armada-alliance-docusaurus/docs/stake-pool-guides/pi-pool-tutorial/pi-node-full-guide/environment-setup" hreflang="x-default"><link rel="stylesheet" href="/armada-alliance-docusaurus/fi/assets/css/styles.cefbcaad.css">
<link rel="preload" href="/armada-alliance-docusaurus/fi/assets/js/runtime~main.95ff3418.js" as="script">
<link rel="preload" href="/armada-alliance-docusaurus/fi/assets/js/main.398c4e55.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/armada-alliance-docusaurus/fi/"><div class="navbar__logo"><img src="/armada-alliance-docusaurus/fi/img/armada-alliance-logo.png" alt="Armada Alliance" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/armada-alliance-docusaurus/fi/img/armada-alliance-logo.png" alt="Armada Alliance" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Armada Alliance</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><span><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_dNtB"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg><span>Suomi</span></span></a><ul class="dropdown__menu"><li><a href="/armada-alliance-docusaurus/docs/stake-pool-guides/pi-pool-tutorial/pi-node-full-guide/environment-setup" target="_self" rel="noopener noreferrer" class="dropdown__link">English</a></li><li><a href="/armada-alliance-docusaurus/es/docs/stake-pool-guides/pi-pool-tutorial/pi-node-full-guide/environment-setup" target="_self" rel="noopener noreferrer" class="dropdown__link">Espa√±ol</a></li><li><a href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-pool-tutorial/pi-node-full-guide/environment-setup" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">Suomi</a></li></ul></div><a class="navbar__item navbar__link navbar__link--active" href="/armada-alliance-docusaurus/fi/docs/">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/armada-alliance/master" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/armada-alliance-docusaurus/fi/docs/">Welcome ARMada Operators üè¥‚Äç‚ò†Ô∏è</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/">Stake Pool Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Stake Pool Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-node-full-guide/">Pi-Node Full-Guide (Ubuntu Server)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Pi-Node Full-Guide (Ubuntu Server)&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-pool-tutorial/">Introduction &amp; Hardware</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-pool-tutorial/pi-node-full-guide/download-and-write-it">Download &amp; Flash</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-pool-tutorial/pi-node-full-guide/logging-in-securely">Logging in Securely</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-pool-tutorial/pi-node-full-guide/user-setup">User Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-pool-tutorial/pi-node-full-guide/server-setup">Server Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-pool-tutorial/pi-node-full-guide/environment-setup">Environment Setup</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-pool-tutorial/pi-node">Pi-Node (Quick Start)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-pool-tutorial/pi-relay">Pi-Relay</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-pool-tutorial/core-online">Pi-Core</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-pool-tutorial/cold-offline">Pi-Cold</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-pool-tutorial/rotate-kes">Rotate KES</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-pool-tutorial/update-registration-cert">Update Pools Registration Certificate</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-pool-tutorial/stakepoolscripts">Stakepool Operator Scripts Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/docker-pool-guide">Docker Image (Arm64)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/Raspberry-pi-os">Pi-Node (Raspberry Pi OS Desktop Guide) üçì</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/alpine-linux-os">Alpine Linux OS üóª</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/apple-m1-guide/">Apple M1 macOS üçè</a><button aria-label="Toggle the collapsible sidebar category &#x27;Apple M1 macOS üçè&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/basic-stake-pool-networking">Basic Stake Pool Networking üí´</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/add-adapools-info-to-grafana">Add adapools Metrics to Grafana üìä</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/updating-a-cardano-node">Updating a Cardano Node</a><button aria-label="Toggle the collapsible sidebar category &#x27;Updating a Cardano Node&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/leader-logs">CNCLI Leader Logs üìë</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/wireguard-guide">Wireguard Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/grafana-alerts-with-telegram">Grafana Alerts with Telegram</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/armada-alliance-docusaurus/fi/docs/cardano-developer-guides/">Other Cardano Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Other Cardano Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/armada-alliance-docusaurus/fi/docs/resources/">Resources</a><button aria-label="Toggle the collapsible sidebar category &#x27;Resources&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/armada-alliance-docusaurus/fi/">üè†</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/"><span itemprop="name">Stake Pool Guides</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-node-full-guide/"><span itemprop="name">Pi-Node Full-Guide (Ubuntu Server)</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">Environment Setup</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Environment Setup</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="choose-testnet-or-mainnet">Choose testnet or mainnet.<a class="hash-link" href="#choose-testnet-or-mainnet" title="Direct link to heading">‚Äã</a></h2><div class="admonition admonition-danger alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</h5></div><div class="admonition-content"><p>There is a 500 ‚Ç≥ Registration deposit and another 5 ‚Ç≥ in registration costs to start a pool on mainnet. First time users are strongly reccomended to use testnet. You can get tada (test ada) from the testnet faucet. <a href="https://testnets.cardano.org/en/testnets/cardano/tools/faucet/" target="_blank" rel="noopener noreferrer">tada faucet link</a></p></div></div><p>Create the directories for our project.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> -p </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/.local/bin</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> -p </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/pi-pool/files</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> -p </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/pi-pool/scripts</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> -p </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/pi-pool/logs</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/git</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/tmp</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Create an .adaenv file, choose which network you want to be on and source the file. This file will hold the variables/settings for operating a Pi-Node. /home/ada/.adaenv</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token builtin class-name" style="color:rgb(255, 203, 139)">echo</span><span class="token plain"> -e </span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">NODE_CONFIG</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain">testnet </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/.adaenv</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">source</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/.adaenv</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="create-bash-variables--add-localbin-to-our-path-">Create bash variables &amp; add <!-- -->~<!-- -->/.local/bin to our $PATH üèÉ<a class="hash-link" href="#create-bash-variables--add-localbin-to-our-path-" title="Direct link to heading">‚Äã</a></h3><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Environment Variables in Linux/Unix</h5></div><div class="admonition-content"><p><a href="https://askubuntu.com/questions/247738/why-is-etc-profile-not-invoked-for-non-login-shells/247769#247769" target="_blank" rel="noopener noreferrer">Environment Variables in Linux/Unix</a>.</p></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>You must reload environment files after updating them. Same goes for cardano-node, changes to the topology or config files require a cardano-service restart. :::</h5></div><div class="admonition-content"><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token builtin class-name" style="color:rgb(255, 203, 139)">echo</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">.</span><span class="token plain"> ~/.adaenv </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/.bashrc</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">cd</span><span class="token plain"> .local/bin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;export PATH=</span><span class="token string entity" style="color:rgb(173, 219, 103)">\&quot;</span><span class="token string environment constant" style="color:rgb(130, 170, 255)">$PWD</span><span class="token string" style="color:rgb(173, 219, 103)">:\</span><span class="token string environment constant" style="color:rgb(130, 170, 255)">$PATH</span><span class="token string entity" style="color:rgb(173, 219, 103)">\&quot;</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token plain"> </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/.adaenv</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">echo</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">NODE_HOME</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/pi-pool </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/.adaenv</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">echo</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">NODE_PORT</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token number" style="color:rgb(247, 140, 108)">3003</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/.adaenv</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">echo</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">NODE_FILES</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/pi-pool/files </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/.adaenv</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">echo</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">TOPOLOGY</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;${NODE_FILES}&#x27;</span><span class="token plain">/</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;${NODE_CONFIG}&#x27;</span><span class="token plain">-topology.json </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/.adaenv</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">echo</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">DB_PATH</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;${NODE_HOME}&#x27;</span><span class="token plain">/db </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/.adaenv</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">echo</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">CONFIG</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;${NODE_FILES}&#x27;</span><span class="token plain">/</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;${NODE_CONFIG}&#x27;</span><span class="token plain">-config.json </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/.adaenv</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">echo</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">NODE_BUILD_NUM</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token variable" style="color:rgb(214, 222, 235)">$(</span><span class="token variable function" style="color:rgb(130, 170, 255)">curl</span><span class="token variable" style="color:rgb(214, 222, 235)"> https://hydra.iohk.io/job/Cardano/iohk-nix/cardano-deployment/latest-finished/download/1/index.html </span><span class="token variable operator" style="color:rgb(127, 219, 202)">|</span><span class="token variable" style="color:rgb(214, 222, 235)"> </span><span class="token variable function" style="color:rgb(130, 170, 255)">grep</span><span class="token variable" style="color:rgb(214, 222, 235)"> -e </span><span class="token variable string" style="color:rgb(173, 219, 103)">&quot;build&quot;</span><span class="token variable" style="color:rgb(214, 222, 235)"> </span><span class="token variable operator" style="color:rgb(127, 219, 202)">|</span><span class="token variable" style="color:rgb(214, 222, 235)"> </span><span class="token variable function" style="color:rgb(130, 170, 255)">sed</span><span class="token variable" style="color:rgb(214, 222, 235)"> </span><span class="token variable string" style="color:rgb(173, 219, 103)">&#x27;s/.*build\/\([0-9]*\)\/download.*/\1/g&#x27;</span><span class="token variable" style="color:rgb(214, 222, 235)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/.adaenv</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">echo</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">CARDANO_NODE_SOCKET_PATH</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;</span><span class="token string variable" style="color:rgb(214, 222, 235)">${</span><span class="token string variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token string variable" style="color:rgb(214, 222, 235)">}</span><span class="token string" style="color:rgb(173, 219, 103)">/pi-pool/db/socket&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/.adaenv</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">source</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/.bashrc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">source</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/.adaenv</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="build-libsodium">Build Libsodium<a class="hash-link" href="#build-libsodium" title="Direct link to heading">‚Äã</a></h2><p>This is IOHK&#x27;s fork of Libsodium. It is needed for the dynamic build binary of cardano-node.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token builtin class-name" style="color:rgb(255, 203, 139)">cd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">cd</span><span class="token plain"> git/</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone https://github.com/input-output-hk/libsodium</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">cd</span><span class="token plain"> libsodium</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> checkout 66f017f1</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">./autogen.sh</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">./configure</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Echo library paths .bashrc file and source it.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token builtin class-name" style="color:rgb(255, 203, 139)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;export LD_LIBRARY_PATH=&quot;</span><span class="token plain">/usr/local/lib:</span><span class="token variable" style="color:rgb(214, 222, 235)">$LD_LIBRARY_PATH</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token plain"> ~/.bashrc</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;export PKG_CONFIG_PATH=&quot;</span><span class="token plain">/usr/local/lib/pkgconfig:</span><span class="token variable" style="color:rgb(214, 222, 235)">$PKG_CONFIG_PATH</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token plain"> ~/.bashrc</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">.</span><span class="token plain"> ~/.bashrc</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Update link cache for shared libraries and confirm.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> ldconfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> ldconfig -p </span><span class="token operator" style="color:rgb(127, 219, 202)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> libsodium</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="build-a-static-binary-of-jq">Build a static binary of jq<a class="hash-link" href="#build-a-static-binary-of-jq" title="Direct link to heading">‚Äã</a></h2><p>We need a static binary we can move to the offline machine later in the guide.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token builtin class-name" style="color:rgb(255, 203, 139)">cd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">cd</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone https://github.com/stedolan/jq.git</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">cd</span><span class="token plain"> jq/</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> submodule update --init</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">autoreconf -fi</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">./configure --with-oniguruma</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain">builtin</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">LDFLAGS</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain">-all-static</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> check</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Confirm.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token plain">jq -V</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># jq-1.6-145-ga9f97e9-dirty</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">which</span><span class="token plain"> jq</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># /usr/local/bin/jq</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="retrieve-node-files">Retrieve node files<a class="hash-link" href="#retrieve-node-files" title="Direct link to heading">‚Äã</a></h3><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token builtin class-name" style="color:rgb(255, 203, 139)">cd</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">$NODE_FILES</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">wget</span><span class="token plain"> -N https://hydra.iohk.io/build/</span><span class="token variable" style="color:rgb(214, 222, 235)">${NODE_BUILD_NUM}</span><span class="token plain">/download/1/</span><span class="token variable" style="color:rgb(214, 222, 235)">${NODE_CONFIG}</span><span class="token plain">-config.json</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">wget</span><span class="token plain"> -N https://hydra.iohk.io/build/</span><span class="token variable" style="color:rgb(214, 222, 235)">${NODE_BUILD_NUM}</span><span class="token plain">/download/1/</span><span class="token variable" style="color:rgb(214, 222, 235)">${NODE_CONFIG}</span><span class="token plain">-byron-genesis.json</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">wget</span><span class="token plain"> -N https://hydra.iohk.io/build/</span><span class="token variable" style="color:rgb(214, 222, 235)">${NODE_BUILD_NUM}</span><span class="token plain">/download/1/</span><span class="token variable" style="color:rgb(214, 222, 235)">${NODE_CONFIG}</span><span class="token plain">-shelley-genesis.json</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">wget</span><span class="token plain"> -N https://hydra.iohk.io/build/</span><span class="token variable" style="color:rgb(214, 222, 235)">${NODE_BUILD_NUM}</span><span class="token plain">/download/1/</span><span class="token variable" style="color:rgb(214, 222, 235)">${NODE_CONFIG}</span><span class="token plain">-alonzo-genesis.json</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">wget</span><span class="token plain"> -N https://hydra.iohk.io/build/</span><span class="token variable" style="color:rgb(214, 222, 235)">${NODE_BUILD_NUM}</span><span class="token plain">/download/1/</span><span class="token variable" style="color:rgb(214, 222, 235)">${NODE_CONFIG}</span><span class="token plain">-topology.json</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">wget</span><span class="token plain"> -N https://raw.githubusercontent.com/input-output-hk/cardano-node/master/cardano-submit-api/config/tx-submit-mainnet-config.yaml</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Run the following to modify ${NODE<!-- -->_<!-- -->CONFIG}-config.json and update TraceBlockFetchDecisions to &quot;true&quot; &amp; listen on all interfaces with Prometheus Node Exporter.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">sed</span><span class="token plain"> -i </span><span class="token variable" style="color:rgb(214, 222, 235)">${NODE_CONFIG}</span><span class="token plain">-config.json </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    -e </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;s/TraceBlockFetchDecisions</span><span class="token string entity" style="color:rgb(173, 219, 103)">\&quot;</span><span class="token string" style="color:rgb(173, 219, 103)">: false/TraceBlockFetchDecisions</span><span class="token string entity" style="color:rgb(173, 219, 103)">\&quot;</span><span class="token string" style="color:rgb(173, 219, 103)">: true/g&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    -e </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;s/127.0.0.1/0.0.0.0/g&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><p><strong>Tip for relay nodes</strong>: It&#x27;s possible to reduce memory and cpu usage by setting &quot;TraceMemPool&quot; to &quot;false&quot; in <strong>{NODE<!-- -->_<!-- -->CONFIG}-config.json.</strong> This will turn off mempool data in Grafana and gLiveView.sh.</p><p>:::</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="retrieve-aarch64-1331-and-cardano-submit-api-binaries">Retrieve aarch64 1.33.1 and cardano-submit-api binaries<a class="hash-link" href="#retrieve-aarch64-1331-and-cardano-submit-api-binaries" title="Direct link to heading">‚Äã</a></h3><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>The <strong>unofficial</strong> cardano-node, cardano-cli and cardano-submit-api binaries available to us are being built by an IOHK engineer in his <strong>spare time</strong>. Consider delegating to zw3rk pool to support mobile Haskel development.</p></div></div><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token builtin class-name" style="color:rgb(255, 203, 139)">cd</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/tmp</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">wget</span><span class="token plain"> https://ci.zw3rk.com/build/430108/download/1/aarch64-unknown-linux-musl-cardano-node-1.33.1.zip</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">unzip</span><span class="token plain"> *.zip</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">mv</span><span class="token plain"> cardano-node/cardano-* </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/.local/bin</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> -r cardano*</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">cd</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>If binaries already exist (if updating) you will have to confirm overwriting the old ones.</p></div></div><p>Confirm binaries are in $USER&#x27;s $PATH.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token plain">cardano-node version</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">cardano-cli version</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="systemd-unit-startup-scripts">Systemd unit startup scripts<a class="hash-link" href="#systemd-unit-startup-scripts" title="Direct link to heading">‚Äã</a></h3><p>Create the systemd unit file and startup script so systemd can manage cardano-node.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">nano</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/.local/bin/cardano-service</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Paste the following, save &amp; exit.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">${HOME}/.local/bin/cardano-service</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">.</span><span class="token plain"> /home/ada/.adaenv</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">## +RTS -N4 -RTS = Multicore(4)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">cardano-node run +RTS -N4 -RTS </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  --topology </span><span class="token variable" style="color:rgb(214, 222, 235)">${TOPOLOGY}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  --database-path </span><span class="token variable" style="color:rgb(214, 222, 235)">${DB_PATH}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  --socket-path </span><span class="token variable" style="color:rgb(214, 222, 235)">${CARDANO_NODE_SOCKET_PATH}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  --port </span><span class="token variable" style="color:rgb(214, 222, 235)">${NODE_PORT}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  --config </span><span class="token variable" style="color:rgb(214, 222, 235)">${CONFIG}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Allow execution of our new cardano-node service file.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">chmod</span><span class="token plain"> +x </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/.local/bin/cardano-service</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Open /etc/systemd/system/cardano-node.service.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">nano</span><span class="token plain"> /etc/systemd/system/cardano-node.service</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Paste the following, You will need to edit the username here if you chose to not use ada. Save &amp; exit.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">/etc/systemd/system/cardano-node.service</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># The Cardano Node Service (part of systemd)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># file: /etc/systemd/system/cardano-node.service</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Unit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">Description     </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> Cardano </span><span class="token function" style="color:rgb(130, 170, 255)">node</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">service</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">Wants           </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> network-online.target</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">After           </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> network-online.target</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">User            </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> ada</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">Type            </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> simple</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">WorkingDirectory</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> /home/ada/pi-pool</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">ExecStart       </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> /bin/bash -c </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;PATH=/home/ada/.local/bin:</span><span class="token string environment constant" style="color:rgb(130, 170, 255)">$PATH</span><span class="token string" style="color:rgb(173, 219, 103)"> exec /home/ada/.local/bin/cardano-service&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">KillSignal</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain">SIGINT</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">RestartKillSignal</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain">SIGINT</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">TimeoutStopSec</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">LimitNOFILE</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token number" style="color:rgb(247, 140, 108)">32768</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">Restart</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain">always</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">RestartSec</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">EnvironmentFile</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain">-/home/ada/.adaenv</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Install</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">WantedBy</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> multi-user.target</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Create the systemd unit file and startup script so systemd can manage cardano-submit-api.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">nano</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/.local/bin/cardano-submit-service</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">${HOME}/.local/bin/cardano-submit-service</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">.</span><span class="token plain"> /home/ada/.adaenv</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">cardano-submit-api </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  --socket-path </span><span class="token variable" style="color:rgb(214, 222, 235)">${CARDANO_NODE_SOCKET_PATH}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  --port </span><span class="token number" style="color:rgb(247, 140, 108)">8090</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  --config /home/ada/pi-pool/files/tx-submit-mainnet-config.yaml </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  --listen-address </span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token plain">.0.0 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  --mainnet</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Allow execution of our new cardano-submit-api service script.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">chmod</span><span class="token plain"> +x </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/.local/bin/cardano-submit-service</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Create /etc/systemd/system/cardano-submit.service.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">nano</span><span class="token plain"> /etc/systemd/system/cardano-submit.service</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Paste the following, You will need to edit the username here if you chose to not use ada. save &amp; exit.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">/etc/systemd/system/cardano-submit.service</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># The Cardano Submit Service (part of systemd)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># file: /etc/systemd/system/cardano-submit.service</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Unit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">Description     </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> Cardano submit </span><span class="token function" style="color:rgb(130, 170, 255)">service</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">Wants           </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> network-online.target</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">After           </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> network-online.target</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">User            </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> ada</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">Type            </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> simple</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">WorkingDirectory</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> /home/ada/pi-pool</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">ExecStart       </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> /bin/bash -c </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;PATH=/home/ada/.local/bin:</span><span class="token string environment constant" style="color:rgb(130, 170, 255)">$PATH</span><span class="token string" style="color:rgb(173, 219, 103)"> exec /home/ada/.local/bin/cardano-submit-service&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">KillSignal</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain">SIGINT</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">RestartKillSignal</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain">SIGINT</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">TimeoutStopSec</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">LimitNOFILE</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token number" style="color:rgb(247, 140, 108)">32768</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">Restart</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain">always</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">RestartSec</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">EnvironmentFile</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain">-/home/ada/.adaenv</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Install</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">WantedBy</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> multi-user.target</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Reload systemd so it picks up our new service files.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl daemon-reload</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Let&#x27;s add a couple functions to the bottom of our .adaenv file to make life a little easier.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">nano</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/.adaenv</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">${HOME}/.adaenv</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function-name function" style="color:rgb(130, 170, 255)">cardano-service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#do things with parameters like $1 such as</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;</span><span class="token string variable" style="color:rgb(214, 222, 235)">$1</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;</span><span class="token plain"> cardano-node.service</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function-name function" style="color:rgb(130, 170, 255)">cardano-submit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#do things with parameters like $1 such as</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;</span><span class="token string variable" style="color:rgb(214, 222, 235)">$1</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;</span><span class="token plain"> cardano-submit.service</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Save &amp; exit.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token builtin class-name" style="color:rgb(255, 203, 139)">source</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token plain">/.adaenv</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>What we just did there was add a couple functions to control our cardano-service and cardano-submit without having to type out</p><blockquote><p>sudo systemctl enable cardano-node.service</p><p>sudo systemctl start cardano-node.service</p><p>sudo systemctl stop cardano-node.service</p><p>sudo systemctl status cardano-node.service</p></blockquote><p>Now we just have to:</p><ul><li>cardano-service enable (enables cardano-node.service auto start at boot)</li><li>cardano-service start (starts cardano-node.service)</li><li>cardano-service stop (stops cardano-node.service)</li><li>cardano-service status (shows the status of cardano-node.service)</li></ul><p>Or</p><ul><li>cardano-submit enable (enables cardano-submit.service auto start at boot)</li><li>cardano-submit start (starts cardano-submit.service)</li><li>cardano-submit stop (stops cardano-submit.service)</li><li>cardano-submit status (shows the status of cardano-submit.service)</li></ul><p>The submit service listens on port 8090. You can connect your Nami wallet like below to submit tx&#x27;s yourself in Nami&#x27;s settings.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token plain">http://</span><span class="token operator" style="color:rgb(127, 219, 202)">&lt;</span><span class="token plain">node lan ip</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain">:8090/api/submit/tx</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="-syncing-the-chain-">‚õì Syncing the chain ‚õì<a class="hash-link" href="#-syncing-the-chain-" title="Direct link to heading">‚Äã</a></h2><p>You are now ready to start cardano-node. Doing so will start the process of &#x27;syncing the chain&#x27;. This is going to take about 48 hours and the db folder is about 13GB in size right now. We used to have to sync it to one node and copy it from that node to our new ones to save time. However...</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="download-snapshot">Download snapshot<a class="hash-link" href="#download-snapshot" title="Direct link to heading">‚Äã</a></h3><p>I have started taking snapshots of my backup nodes db folder and hosting it in a web directory. With this service it takes around 20 minutes to pull the latest snapshot and maybe another hour to sync up to the tip of the chain. This service is provided as is. It is up to you. If you want to sync the chain on your own simply:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token plain">cardano-service </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">enable</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">cardano-service start</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">cardano-service status</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Otherwise, be sure your node is <strong>not</strong> running &amp; delete the db folder if it exists and download db/.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token plain">cardano-service stop</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">cd</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">$NODE_HOME</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> -r db/</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="download-database">Download Database<a class="hash-link" href="#download-database" title="Direct link to heading">‚Äã</a></h4><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">wget</span><span class="token plain"> -r -np -nH -R </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;index.html*&quot;</span><span class="token plain"> -e </span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">robots</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain">off https://</span><span class="token variable" style="color:rgb(214, 222, 235)">$NODE_CONFIG</span><span class="token plain">.adamantium.online/db/</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Once wget completes enable &amp; start cardano-node.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token plain">cardano-service </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">enable</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">cardano-service start</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">cardano-service status</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="gliveviewsh">gLiveView.sh<a class="hash-link" href="#gliveviewsh" title="Direct link to heading">‚Äã</a></h2><p>Guild operators scripts has a couple useful tools for operating a pool. We do not want the project as a whole, though there are a couple scripts we are going to use.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>CNODE HELPER SCRIPTS</h5></div><div class="admonition-content"><p><a href="https://github.com/cardano-community/guild-operators/tree/master/scripts/cnode-helper-scripts" target="_blank" rel="noopener noreferrer">https://github.com/cardano-community/guild-operators/tree/master/scripts/cnode-helper-scripts</a></p></div></div><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token builtin class-name" style="color:rgb(255, 203, 139)">cd</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">$NODE_HOME</span><span class="token plain">/scripts</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">wget</span><span class="token plain"> https://raw.githubusercontent.com/cardano-community/guild-operators/master/scripts/cnode-helper-scripts/env</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">wget</span><span class="token plain"> https://raw.githubusercontent.com/cardano-community/guild-operators/master/scripts/cnode-helper-scripts/gLiveView.sh</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>You can change the port cardano-node runs on in the .adaenv file in your home directory. Open the file edit the port number. Load the change into your shell &amp; restart the cardano-node service.</p></div></div><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">nano</span><span class="token plain"> /home/ada/.adaenv</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">source</span><span class="token plain"> /home/ada/.adaenv</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">cardano-service restart</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Add a line sourcing our .adaenv file to the top of the env file and adjust some paths.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">sed</span><span class="token plain"> -i </span><span class="token function" style="color:rgb(130, 170, 255)">env</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    -e </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;/#CNODEBIN/i. </span><span class="token string variable" style="color:rgb(214, 222, 235)">${</span><span class="token string variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token string variable" style="color:rgb(214, 222, 235)">}</span><span class="token string" style="color:rgb(173, 219, 103)">/.adaenv&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    -e </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;s/\#CNODE_HOME=</span><span class="token string entity" style="color:rgb(173, 219, 103)">\&quot;</span><span class="token string" style="color:rgb(173, 219, 103)">\/opt\/cardano\/cnode</span><span class="token string entity" style="color:rgb(173, 219, 103)">\&quot;</span><span class="token string" style="color:rgb(173, 219, 103)">/CNODE_HOME=</span><span class="token string entity" style="color:rgb(173, 219, 103)">\&quot;</span><span class="token string" style="color:rgb(173, 219, 103)">\</span><span class="token string variable" style="color:rgb(214, 222, 235)">${</span><span class="token string variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token string variable" style="color:rgb(214, 222, 235)">}</span><span class="token string" style="color:rgb(173, 219, 103)">\/pi-pool</span><span class="token string entity" style="color:rgb(173, 219, 103)">\&quot;</span><span class="token string" style="color:rgb(173, 219, 103)">/g&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    -e </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;s/\#CNODE_PORT=6000&quot;</span><span class="token plain">/CNODE_PORT</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">&quot;</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;${NODE_PORT}&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">&quot;</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;/g&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    -e </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;s/\#CONFIG=</span><span class="token string entity" style="color:rgb(173, 219, 103)">\&quot;</span><span class="token string" style="color:rgb(173, 219, 103)">\</span><span class="token string variable" style="color:rgb(214, 222, 235)">${CNODE_HOME}</span><span class="token string" style="color:rgb(173, 219, 103)">\/files\/config.json</span><span class="token string entity" style="color:rgb(173, 219, 103)">\&quot;</span><span class="token string" style="color:rgb(173, 219, 103)">/CONFIG=</span><span class="token string entity" style="color:rgb(173, 219, 103)">\&quot;</span><span class="token string" style="color:rgb(173, 219, 103)">\</span><span class="token string variable" style="color:rgb(214, 222, 235)">${NODE_FILES}</span><span class="token string" style="color:rgb(173, 219, 103)">\/&quot;</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;${NODE_CONFIG}&#x27;</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;-config.json</span><span class="token string entity" style="color:rgb(173, 219, 103)">\&quot;</span><span class="token string" style="color:rgb(173, 219, 103)">/g&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    -e </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;s/\#TOPOLOGY=</span><span class="token string entity" style="color:rgb(173, 219, 103)">\&quot;</span><span class="token string" style="color:rgb(173, 219, 103)">\</span><span class="token string variable" style="color:rgb(214, 222, 235)">${CNODE_HOME}</span><span class="token string" style="color:rgb(173, 219, 103)">\/files\/topology.json</span><span class="token string entity" style="color:rgb(173, 219, 103)">\&quot;</span><span class="token string" style="color:rgb(173, 219, 103)">/TOPOLOGY=</span><span class="token string entity" style="color:rgb(173, 219, 103)">\&quot;</span><span class="token string" style="color:rgb(173, 219, 103)">\</span><span class="token string variable" style="color:rgb(214, 222, 235)">${NODE_FILES}</span><span class="token string" style="color:rgb(173, 219, 103)">\/&quot;</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;${NODE_CONFIG}&#x27;</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;-topology.json</span><span class="token string entity" style="color:rgb(173, 219, 103)">\&quot;</span><span class="token string" style="color:rgb(173, 219, 103)">/g&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    -e </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;s/\#LOG_DIR=</span><span class="token string entity" style="color:rgb(173, 219, 103)">\&quot;</span><span class="token string" style="color:rgb(173, 219, 103)">\</span><span class="token string variable" style="color:rgb(214, 222, 235)">${CNODE_HOME}</span><span class="token string" style="color:rgb(173, 219, 103)">\/logs</span><span class="token string entity" style="color:rgb(173, 219, 103)">\&quot;</span><span class="token string" style="color:rgb(173, 219, 103)">/LOG_DIR=</span><span class="token string entity" style="color:rgb(173, 219, 103)">\&quot;</span><span class="token string" style="color:rgb(173, 219, 103)">\</span><span class="token string variable" style="color:rgb(214, 222, 235)">${CNODE_HOME}</span><span class="token string" style="color:rgb(173, 219, 103)">\/logs</span><span class="token string entity" style="color:rgb(173, 219, 103)">\&quot;</span><span class="token string" style="color:rgb(173, 219, 103)">/g&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Allow execution of gLiveView.sh.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">chmod</span><span class="token plain"> +x gLiveView.sh</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="topologyupdatersh">topologyUpdater.sh<a class="hash-link" href="#topologyupdatersh" title="Direct link to heading">‚Äã</a></h2><p>Until peer to peer is enabled on the network operators need a way to get a list of relays/peers to connect to. The topology updater service runs in the background with cron. Every hour the script will run and tell the service you are a relay and want to be a part of the network. It will add your relay to it&#x27;s directory after four hours you should see in connections in gLiveView.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>The list generated will show you the distance &amp; a clue as to where the relay is located. :::</h5></div><div class="admonition-content"><p>Download the topologyUpdater script and have a look at it. Lower the number of peers to 10 and add any custom peers you wish. These are outgoing connections. You will not see any incoming transactions untill other nodes start connecting to you.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">wget</span><span class="token plain"> https://raw.githubusercontent.com/cardano-community/guild-operators/master/scripts/cnode-helper-scripts/topologyUpdater.sh</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Lower the number of MX<!-- -->_<!-- -->PEERS to 10.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">nano</span><span class="token plain"> topologyUpdater.sh</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Save, exit and make it executable.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">chmod</span><span class="token plain"> +x topologyUpdater.sh</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><p>Create a cron job that will run the script every hour.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">crontab</span><span class="token plain"> -e</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Choose nano when prompted for editor. :::</h5></div><div class="admonition-content"><p>Add the following to the bottom, save &amp; exit.</p></div></div><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">crontab</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token assign-left variable environment constant" style="color:rgb(130, 170, 255)">SHELL</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain">/bin/bash</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable environment constant" style="color:rgb(130, 170, 255)">PATH</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain">/home/ada/.local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">33</span><span class="token plain"> * * * * </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">.</span><span class="token plain"> </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/.adaenv</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/pi-pool/scripts/topologyUpdater.sh</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>After four hours you can open ${NODE<!-- -->_<!-- -->CONFIG}-topology.json and inspect the list of out peers the service suggested for you. Remove anything more than 7k distance(or less). IOHK recently suggested 8 out peers. The more out peers the more system resources it uses. You can also add any peers you wish to connect to manualy inside the script. This is where you would add your block producer or any friends nodes.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">nano</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">$NODE_FILES</span><span class="token plain">/</span><span class="token variable" style="color:rgb(214, 222, 235)">${NODE_CONFIG}</span><span class="token plain">-topology.json</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>You can use gLiveView.sh to view ping times in relation to the peers in your {NODE<!-- -->_<!-- -->CONFIG}-topology file. Use Ping to resolve hostnames to IP&#x27;s.</p></div></div><p>Changes to this file will take affect upon restarting the cardano-service.</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>Don&#x27;t forget to remove the last comma in your topology file!</p></div></div><p>Status should show as enabled &amp; running.</p><p>Once your node syncs past epoch 208(shelley era) you can use gLiveView.sh to monitor your sync progress.</p><div class="admonition admonition-danger alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</h5></div><div class="admonition-content"><p>It can take over an hour for cardano-node to sync to the tip of the chain. Use ./gliveView.sh, htop and log outputs to view process. Be patient it will come up.</p></div></div><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token builtin class-name" style="color:rgb(255, 203, 139)">cd</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">$NODE_HOME</span><span class="token plain">/scripts</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">./gLiveView.sh</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><img loading="lazy" src="/armada-alliance-docusaurus/fi/assets/images/pi-node-glive-1e55923399447d3911e848db7c0be880.png" width="463" height="285" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="prometheus-node-exporter--grafana">Prometheus, Node Exporter &amp; Grafana<a class="hash-link" href="#prometheus-node-exporter--grafana" title="Direct link to heading">‚Äã</a></h2><p>Prometheus connects to cardano-nodes backend and serves metrics over http. Grafana in turn can use that data to display graphs and create alerts. Our Grafana dashboard will be made up of data from our Ubuntu system &amp; cardano-node. Grafana can display data from other sources as well, like <a href="https://adapools.org" target="_blank" rel="noopener noreferrer">adapools.org</a>.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>You can connect a <a href="https://docs.armada-alliance.com/learn/stake-pool-guides/grafana-alerts-with-telegram" target="_blank" rel="noopener noreferrer">Telegram bot</a> to Grafana which can alert you of problems with the server. Much easier than trying to configure email alerts.</p></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>PROMETHEUS REPOSITORY</h5></div><div class="admonition-content"><p><a href="https://github.com/prometheus" target="_blank" rel="noopener noreferrer">https://github.com/prometheus</a></p></div></div><p><img loading="lazy" src="/armada-alliance-docusaurus/fi/assets/images/pi-pool-grafana-55cbdd28508cd62938e7317a2e234d78.png" width="1907" height="980" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="install-prometheus--node-exporter">Install Prometheus &amp; Node Exporter.<a class="hash-link" href="#install-prometheus--node-exporter" title="Direct link to heading">‚Äã</a></h3><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Prometheus can scrape the http endpoints of other servers running node exporter. Meaning Grafana and Prometheus does not have to be installed on your core and relays. Only the package prometheus-node-exporter is required if you would like to build a central Grafana dashboard for the pool, freeing up resources and having a single dashboard to monitor everything. :::</h5></div><div class="admonition-content"><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> prometheus prometheus-node-exporter -y</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Disable them in systemd for now.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl disable prometheus.service</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl disable prometheus-node-exporter.service</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="configure-prometheus">Configure Prometheus<a class="hash-link" href="#configure-prometheus" title="Direct link to heading">‚Äã</a></h3><p>Open prometheus.yml.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">nano</span><span class="token plain"> /etc/prometheus/prometheus.yml</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Replace the contents of the file with.</p></div></div><p>Indentation must be correct YAML format or Prometheus will fail to start.</p><p>:::</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">/etc/prometheus/prometheus.yml</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token key atrule">global</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token key atrule">scrape_interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 15s </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># By default, scrape targets every 15 seconds.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Attach these labels to any time series or alerts when communicating with</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># external systems (federation, remote storage, Alertmanager).</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token key atrule">external_labels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule">monitor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;codelab-monitor&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># A scrape configuration containing exactly one endpoint to scrape:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Here it&#x27;s Prometheus itself.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key atrule">scrape_configs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># The job name is added as a label job=&lt;job_name&gt; to any timeseries scraped from this config.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">job_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Prometheus&quot;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># To scrape data from Prometheus Node Exporter</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule">scrape_interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 5s</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule">static_configs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#      - targets: [&#x27;&lt;CORE PRIVATE IP&gt;:12798&#x27;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#        labels:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#          alias: &#x27;C1&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#          type:  &#x27;cardano-node&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#      - targets: [&#x27;&lt;RELAY PRIVATE IP&gt;:12798&#x27;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#        labels:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#          alias: &#x27;R1&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#          type:  &#x27;cardano-node&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">targets</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;localhost:12798&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token key atrule">labels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token key atrule">alias</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;N1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;cardano-node&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#      - targets: [&#x27;&lt;CORE PRIVATE IP&gt;:9100&#x27;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#        labels:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#          alias: &#x27;C1&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#          type:  &#x27;node&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#      - targets: [&#x27;&lt;RELAY PRIVATE IP&gt;:9100&#x27;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#        labels:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#          alias: &#x27;R1&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#          type:  &#x27;node&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">targets</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;localhost:9100&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token key atrule">labels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token key atrule">alias</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;N1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;node&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Save &amp; exit.</p><p>Start Prometheus.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl start prometheus.service</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="install-grafana">Install Grafana<a class="hash-link" href="#install-grafana" title="Direct link to heading">‚Äã</a></h3><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>GRAFANA REPOSITORY</h5></div><div class="admonition-content"><p><a href="https://github.com/grafana/grafana" target="_blank" rel="noopener noreferrer">https://github.com/grafana/grafana</a></p></div></div><p>Add Grafana&#x27;s gpg key to Ubuntu.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">wget</span><span class="token plain"> -q -O - https://packages.grafana.com/gpg.key </span><span class="token operator" style="color:rgb(127, 219, 202)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> apt-key </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> -</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Add latest stable repo to apt sources.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token builtin class-name" style="color:rgb(255, 203, 139)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;deb https://packages.grafana.com/oss/deb stable main&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">tee</span><span class="token plain"> -a /etc/apt/sources.list.d/grafana.list</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Update your package lists &amp; install Grafana.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> update</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> grafana</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Change the port Grafana listens on so it does not clash with cardano-node.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sed</span><span class="token plain"> -i /etc/grafana/grafana.ini </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">         -e </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;s#;http_port#http_port#&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">         -e </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;s#3000#5000#&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Start Grafana</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl start grafana-server.service</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="cardano-monitor-bash-function">Cardano-monitor bash function<a class="hash-link" href="#cardano-monitor-bash-function" title="Direct link to heading">‚Äã</a></h3><p>Open .adaenv</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token builtin class-name" style="color:rgb(255, 203, 139)">cd</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">${</span><span class="token variable environment constant" style="color:rgb(130, 170, 255)">HOME</span><span class="token variable" style="color:rgb(214, 222, 235)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">nano</span><span class="token plain"> .adaenv</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Down at the bottom add.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">.adaenv</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function-name function" style="color:rgb(130, 170, 255)">cardano-monitor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#do things with parameters like $1 such as</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;</span><span class="token string variable" style="color:rgb(214, 222, 235)">$1</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;</span><span class="token plain"> prometheus.service</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;</span><span class="token string variable" style="color:rgb(214, 222, 235)">$1</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;</span><span class="token plain"> prometheus-node-exporter.service</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;</span><span class="token string variable" style="color:rgb(214, 222, 235)">$1</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;</span><span class="token plain"> grafana-server.service</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Save, exit &amp; source.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token builtin class-name" style="color:rgb(255, 203, 139)">source</span><span class="token plain"> .adaenv</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Here we tied all three services under one function. Enable Prometheus.service, prometheus-node-exporter.service &amp; grafana-server.service to run on boot and start the services.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token plain">cardano-monitor </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">enable</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">cardano-monitor start</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>At this point you may want to start cardano-service and get synced up before we continue to configure Grafana. Go to the syncing the chain section. Choose whether you want to wait 30 hours or download the latest chain snapshot. Return here once gLiveView.sh shows you are at the tip of the chain.</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="grafana-nginx-proxy_pass--snakeoil">Grafana, Nginx proxy<!-- -->_<!-- -->pass &amp; snakeoil<a class="hash-link" href="#grafana-nginx-proxy_pass--snakeoil" title="Direct link to heading">‚Äã</a></h2><p>Let&#x27;s put Grafana behind Nginx with self signed(snakeoil) certificate. The certificate was generated when we installed the ssl-cert package.</p><p>You will get a warning from your browser. This is because ca-certificates cannot follow a trust chain to a trusted (centralized) source. The connection is however encrypted and will protect your passwords flying around in plain text.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">nano</span><span class="token plain"> /etc/nginx/sites-available/default</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Replace contents of the file with below.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">/etc/nginx/sites-available/default</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Default server configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">server </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        listen </span><span class="token number" style="color:rgb(247, 140, 108)">80</span><span class="token plain"> default_server</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">return</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">301</span><span class="token plain"> https://</span><span class="token variable" style="color:rgb(214, 222, 235)">$host</span><span class="token variable" style="color:rgb(214, 222, 235)">$request_uri</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">server </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># SSL configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        listen </span><span class="token number" style="color:rgb(247, 140, 108)">443</span><span class="token plain"> ssl default_server</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#listen [::]:443 ssl default_server;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Note: You should disable gzip for SSL traffic.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># See: https://bugs.debian.org/773332</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Read up on ssl_ciphers to ensure a secure configuration.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># See: https://bugs.debian.org/765782</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Self signed certs generated by the ssl-cert package</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Don&#x27;t use them in a production server!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        include snippets/snakeoil.conf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        add_header X-Proxy-Cache </span><span class="token variable" style="color:rgb(214, 222, 235)">$upstream_cache_status</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        location / </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          proxy_pass http://127.0.0.1:5000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          proxy_redirect      off</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          include proxy_params</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Check that Nginx is happy with our changes and restart it.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> nginx -t</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">## if ok, do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">service</span><span class="token plain"> nginx restart</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>You can now visit your pi-nodes ip address without any port specification, the connection will be upgraded to SSL/TLS and you will get a scary message(not really scary at all). Continue through to your dashboard.</p><p><img loading="lazy" src="/armada-alliance-docusaurus/fi/assets/images/snakeoil-c25f574bc5765046f70d41db95d6a27b.png" width="2032" height="1082" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="configure-grafana">Configure Grafana<a class="hash-link" href="#configure-grafana" title="Direct link to heading">‚Äã</a></h3><p>On your local machine open your browser and enter your nodes private ip address.</p><p>Log in and set a new password. Default username and password is <strong>admin:admin</strong>.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="configure-data-source">Configure data source<a class="hash-link" href="#configure-data-source" title="Direct link to heading">‚Äã</a></h4><p>In the left hand vertical menu go to <strong>Configure</strong> &gt; <strong>Datasources</strong> and click to <strong>Add data source</strong>. Choose Prometheus. Enter <a href="http://localhost:9090" target="_blank" rel="noopener noreferrer">http://localhost:9090</a> where it is grayed out, everything else can be left default. At the bottom save &amp; test. You should get the green &quot;Data source is working&quot; if cardano-monitor has been started. If for some reason those services failed to start issue <strong>cardano-service restart</strong>.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="import-dashboards">Import dashboards<a class="hash-link" href="#import-dashboards" title="Direct link to heading">‚Äã</a></h4><p>Save the dashboard json files to your local machine.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Collection of Grafana Dashboards for cardano-node</h5></div><div class="admonition-content"><p><a href="https://github.com/armada-alliance/dashboards" target="_blank" rel="noopener noreferrer">https://github.com/armada-alliance/dashboards</a></p></div></div><p>In the left hand vertical menu go to <strong>Dashboards</strong> &gt; <strong>Manage</strong> and click on <strong>Import</strong>. Select the file you just downloaded/created and save. Head back to <strong>Dashboards</strong> &gt; <strong>Manage</strong> and click on your new dashboard.</p><p><img loading="lazy" src="/armada-alliance-docusaurus/fi/assets/images/pi-pool-grafana-55cbdd28508cd62938e7317a2e234d78.png" width="1907" height="980" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="configure-pooldatalive">Configure poolDataLive<a class="hash-link" href="#configure-pooldatalive" title="Direct link to heading">‚Äã</a></h3><p>Here you can use the poolData api to bring extra pool data into Grafana like stake &amp; price.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Sample Grafana Dashboard for Pooldata API</h5></div><div class="admonition-content"><p><a href="https://api.pooldata.live/dashboard" target="_blank" rel="noopener noreferrer">https://api.pooldata.live/dashboard</a></p></div></div><p>Follow the instructions to install the Grafana plugin, configure your datasource and import the dashboard.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="useful-commands">Useful Commands<a class="hash-link" href="#useful-commands" title="Direct link to heading">‚Äã</a></h2><p>View how much zram swap cardano-node is using.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token assign-left variable" style="color:rgb(214, 222, 235)">CNZRAM</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token variable" style="color:rgb(214, 222, 235)">$(</span><span class="token variable" style="color:rgb(214, 222, 235)">pidof cardano-node</span><span class="token variable" style="color:rgb(214, 222, 235)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> --color VmSwap /proc/</span><span class="token variable" style="color:rgb(214, 222, 235)">$CNZRAM</span><span class="token plain">/status</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Follow log output to journal.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> journalctl --unit</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain">cardano-node --follow</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Follow log output to stdout.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">tail</span><span class="token plain"> -f /var/log/syslog</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>View network connections with netstat.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#d6deeb;background-color:#011627" class="codeBlockTitle_BvAR">&gt;_ Terminal</div><div class="codeBlockContent_wNvx" style="color:#d6deeb;background-color:#011627"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">netstat</span><span class="token plain"> -puntw</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>From here you have a Pi-Node with tools to build an active relay or a stake pool from the following pages. Best of luck and please join the <a href="https://armada-alliance.com" target="_blank" rel="noopener noreferrer">armada-alliance</a>, together we are stronger! üí™</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/rekuenkdr/armada-alliance-docusaurus/edit/master/docs/stake-pool-guides/pi-pool-tutorial/pi-node-full-guide/environment-setup.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-pool-tutorial/pi-node-full-guide/server-setup"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Server Setup</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/armada-alliance-docusaurus/fi/docs/stake-pool-guides/pi-pool-tutorial/pi-node"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Pi-Node (Quick Start)</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#choose-testnet-or-mainnet" class="table-of-contents__link toc-highlight">Choose testnet or mainnet.</a><ul><li><a href="#create-bash-variables--add-localbin-to-our-path-" class="table-of-contents__link toc-highlight">Create bash variables &amp; add ~/.local/bin to our $PATH üèÉ</a></li><li><a href="#retrieve-aarch64-1331-and-cardano-submit-api-binaries" class="table-of-contents__link toc-highlight">Retrieve aarch64 1.33.1 and cardano-submit-api binaries</a></li><li><a href="#systemd-unit-startup-scripts" class="table-of-contents__link toc-highlight">Systemd unit startup scripts</a></li></ul></li><li><a href="#-syncing-the-chain-" class="table-of-contents__link toc-highlight">‚õì Syncing the chain ‚õì</a><ul><li><a href="#download-snapshot" class="table-of-contents__link toc-highlight">Download snapshot</a></li></ul></li><li><a href="#gliveviewsh" class="table-of-contents__link toc-highlight">gLiveView.sh</a></li><li><a href="#topologyupdatersh" class="table-of-contents__link toc-highlight">topologyUpdater.sh</a></li><li><a href="#prometheus-node-exporter--grafana" class="table-of-contents__link toc-highlight">Prometheus, Node Exporter &amp; Grafana</a><ul><li><a href="#install-prometheus--node-exporter" class="table-of-contents__link toc-highlight">Install Prometheus &amp; Node Exporter.</a></li><li><a href="#install-grafana" class="table-of-contents__link toc-highlight">Install Grafana</a></li><li><a href="#cardano-monitor-bash-function" class="table-of-contents__link toc-highlight">Cardano-monitor bash function</a></li></ul></li><li><a href="#grafana-nginx-proxy_pass--snakeoil" class="table-of-contents__link toc-highlight">Grafana, Nginx proxy_pass &amp; snakeoil</a><ul><li><a href="#configure-grafana" class="table-of-contents__link toc-highlight">Configure Grafana</a></li><li><a href="#configure-pooldatalive" class="table-of-contents__link toc-highlight">Configure poolDataLive</a></li></ul></li><li><a href="#useful-commands" class="table-of-contents__link toc-highlight">Useful Commands</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://armada-alliance.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/joinchat/FeKTCBu-pn5OUZUz4joF2w" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCligunhcmbMYaBUMvONsKwg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.com/invite/Sqc398qk5a" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/alliance_armada" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/armada-alliance/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/armada-alliance-docusaurus/fi/docs/how-to-contribute/">Contribute</a></li><li class="footer__item"><a href="https://cointr.ee/armada-alliance" target="_blank" rel="noopener noreferrer" class="footer__link-item">Donate<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://cardano.ideascale.com/a/dtd/ARMing-Cardano/340480-48088#idea-tab-comments" target="_blank" rel="noopener noreferrer" class="footer__link-item">Project Catalyst</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 Armada Alliance, Built with Docusaurus.</div></div></div></footer></div>
<script src="/armada-alliance-docusaurus/fi/assets/js/runtime~main.95ff3418.js"></script>
<script src="/armada-alliance-docusaurus/fi/assets/js/main.398c4e55.js"></script>
</body>
</html>